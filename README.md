# 图论算法可视化系统

## 📋 项目概述

本项目是一个基于Qt框架开发的图论算法可视化系统，旨在通过直观的图形界面展示图的基本操作和经典算法的执行过程。系统支持用户自定义构建无向图，并可视化展示邻接链表、最小生成树构造、最短路径求解等算法的执行过程。

## ✨ 主要功能

### 1. 图的构建与显示
- **交互式图构建**：用户可通过输入顶点数和边数，逐步构建无向图
- **实时可视化**：在构建过程中实时显示图的结构
- **输入验证**：自动检测并提示非法输入（重复边、超范围顶点等）

### 2. 邻接链表展示
- **链表结构可视化**：以图形化方式展示图的邻接链表表示
- **清晰布局**：左侧显示邻接链表，右侧显示原始图结构

### 3. 最小生成树算法
#### 普里姆算法（Prim's Algorithm）
- **步骤展示**：逐步显示算法执行过程
- **辅助数组可视化**：实时显示closedge数组的变化
- **动画效果**：高亮显示当前选中的顶点和边

#### 克鲁斯卡尔算法（Kruskal's Algorithm）
- **边权排序**：按权值从小到大选择边
- **并查集可视化**：展示连通分量的合并过程
- **渐进构建**：逐步显示最小生成树的形成

### 4. 最短路径算法
#### 迪杰斯特拉算法（Dijkstra's Algorithm）
- **单源最短路径**：求解指定源点到所有其他顶点的最短路径
- **距离数组展示**：实时显示当前最短距离值
- **路径追踪**：显示完整的最短路径

#### 弗洛伊德算法（Floyd-Warshall Algorithm）
- **全对最短路径**：求解任意两点间的最短路径
- **矩阵更新过程**：展示距离矩阵的动态更新
- **中转点标识**：高亮显示当前考虑的中转顶点

## 🛠️ 技术实现

### 开发环境
- **操作系统**：Windows 11
- **编程语言**：C++17
- **开发工具**：Qt Creator 13.0.2
- **Qt版本**：Qt 6.7.2 MinGW 64-bit
- **构建工具**：qmake

### 核心技术
- **图形界面**：Qt Widgets框架
- **图形绘制**：QGraphicsScene/QGraphicsView架构
- **动画效果**：QPropertyAnimation和QTimer
- **数据结构**：邻接矩阵存储图结构
- **信号槽机制**：实现界面交互

### 数据结构设计

#### 图的存储结构
```cpp
class MGraph {
public:
    int vexnum, arcnum;         // 图的顶点数和弧数
    QVector<QString> vexs;      // 顶点表
    QVector<QVector<int>> arcs; // 邻接矩阵
    
    MGraph(int vertexnum, int edgenum);
    bool isConnected();         // 判断图的连通性
};
```

#### 图形显示类
```cpp
class NodeShape : public QObject {
    QGraphicsItemGroup node;    // 节点图形组合
    QGraphicsOpacityEffect *opacity; // 透明度效果
public:
    void SetNodeVisibility(bool visible, bool animation = true);
};

class ArcShape : public QObject {
    QGraphicsItemGroup arc;     // 边图形组合
    int smallvex, bigvex;       // 边的两个端点
public:
    void SetArcVisibility(bool visible, bool animation = true);
};
```

## 📁 项目结构

```
Graph/
├── main.cpp              # 程序入口
├── homepage.h/cpp        # 主页面（功能介绍和参数输入）
├── graphinfo.h/cpp       # 图构建页面
├── menu.h/cpp            # 功能选择菜单
├── functions.h/cpp       # 算法实现和展示
├── mgraph.h/cpp          # 图数据结构和图形显示
├── Parameter.h           # 全局参数配置
├── *.ui                  # Qt Designer界面文件
├── Graph.pro             # 项目配置文件
└── build/                # 构建输出目录
```

## 🚀 使用说明

### 1. 启动程序
运行程序后进入欢迎页面，显示系统功能介绍。

### 2. 构建图结构
1. 在欢迎页面输入所需的顶点数和边数
2. 点击"确认"按钮进入图构建页面
3. 逐一输入每条边的信息（起点、终点、权值）
4. 右侧实时显示当前图的结构
5. 完成后点击"完成"按钮

### 3. 选择功能
在菜单页面选择要演示的算法：
- 邻接链表展示
- 普里姆算法构造最小生成树
- 克鲁斯卡尔算法构造最小生成树
- 单源最短路径（需选择源点）
- 全对最短路径

### 4. 观看算法演示
- 左侧显示算法执行过程和辅助数据
- 右侧显示完整图结构
- 算法自动逐步执行，可观察每一步的变化
- 点击"返回"按钮回到功能选择菜单

## 🎯 设计特色

### 1. 用户友好的交互设计
- **实时反馈**：输入过程中实时显示图的构建状态
- **错误提示**：智能检测并提示各种非法输入
- **直观操作**：简洁的按钮布局和清晰的功能分区

### 2. 丰富的可视化效果
- **动画展示**：使用渐变动画展示算法执行过程
- **颜色标识**：不同颜色区分不同状态的顶点和边
- **表格显示**：清晰展示算法的辅助数组变化

### 3. 图形化算法演示
- **步骤分解**：将复杂算法分解为易理解的步骤
- **过程可视化**：每个步骤都有对应的图形化展示
- **数据追踪**：实时显示算法中关键数据结构的变化

## 🔧 编译和运行

### 环境要求
- Qt 6.7.2 或更高版本
- MinGW 64-bit 编译器
- Windows 10/11 操作系统

### 编译步骤
1. 使用Qt Creator打开`Graph.pro`文件
2. 选择合适的构建套件（MinGW 64-bit）
3. 点击"构建"按钮或按Ctrl+B
4. 编译完成后点击"运行"按钮或按Ctrl+R

### 命令行编译
```bash
qmake Graph.pro
make
```

## 📈 稳定性和容错性
- **内存管理**：利用Qt对象树机制实现自动内存管理
- **异常处理**：输入验证和错误处理机制
- **边界检查**：防止数组越界和整数溢出

---

**注意**：本系统要求输入的图为简单无向图，即不包含自环和重边的无向图。在使用最小生成树和最短路径功能时，系统会自动检查图的连通性。
